webpackJsonp([6],{208:function(e,t,i){i(781);var r=i(88)(i(548),i(807),null,null);e.exports=r.exports},236:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(52),n=i.n(r),o=i(51),a=i.n(o),s=i(54),l=i.n(s),u=i(89),c=i(53),d=i(90);t.default={data:function(){return{baseImgPath:c.b,isActive:!1}},created:function(){this.adminInfo.id||this.getAdminData()},computed:l()({},i.i(d.b)(["adminInfo","newOrdersCount","newAgentApply","newCashApply"])),methods:l()({},i.i(d.c)(["getAdminData","getOrderCount","getAgentApplyCount","getCashApplyCount"]),{handleCommand:function(e){var t=this;return a()(n.a.mark(function r(){var o;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("home"!=e){r.next=4;break}t.$router.push("/manage"),r.next=9;break;case 4:if("singout"!=e){r.next=9;break}return r.next=7,i.i(u.e)();case 7:o=r.sent,1==o.status?(t.$message({type:"success",message:"退出成功"}),t.$router.push("/")):t.$message({type:"error",message:o.message});case 9:case"end":return r.stop()}},r,t)}))()},getNotify:function(){var e=this;return a()(n.a.mark(function t(){var i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e,setTimeout(function(){i.getOrderCount(),i.getAgentApplyCount(),i.getCashApplyCount(),console.log("新订单"),i.isActive&&i.getNotify()},3e5);case 2:case"end":return t.stop()}},t,e)}))()},handleGoToOrder:function(e){this.$router.push({path:"orderList",query:{index:e}})},handleGoToAgent:function(e){this.$router.push({path:"agentManage",query:{index:e}})}}),activated:function(){console.log("headTop激活了"),this.isActive=!0,this.getNotify()},deactivated:function(){console.log("headTop休眠了"),this.isActive=!1}}},237:function(e,t,i){t=e.exports=i(197)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},238:function(e,t,i){var r=i(237);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(198)("24ad6d9e",r,!0)},239:function(e,t,i){i(238);var r=i(88)(i(236),i(240),null,null);e.exports=r.exports},240:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header_container"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,r){return i("el-breadcrumb-item",{key:r},[e._v(e._s(t))])})],2),e._v(" "),e.newOrdersCount>0?i("el-badge",{staticClass:"item",attrs:{value:e.newOrdersCount,max:99}},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleGoToOrder(0)}}},[e._v("新订单")])],1):e._e(),e._v(" "),e.newAgentApply>0?i("el-badge",{staticClass:"item",attrs:{value:e.newAgentApply,max:99}},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleGoToAgent(0)}}},[e._v("新代理申请")])],1):e._e(),e._v(" "),e.newCashApply>0?i("el-badge",{staticClass:"item",attrs:{value:e.newCashApply,max:99}},[i("el-button",{attrs:{size:"small"},on:{click:function(t){e.handleGoToAgent(3)}}},[e._v("新提现申请")])],1):e._e(),e._v(" "),i("el-dropdown",{attrs:{"menu-align":"start"},on:{command:e.handleCommand}},[i("img",{staticClass:"avator",attrs:{src:e.baseImgPath+e.adminInfo.avatarUrl}}),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"home"}},[e._v("首页")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"singout"}},[e._v("退出")])],1)],1)],1)},staticRenderFns:[]}},296:function(e,t,i){"use strict";t.a=function(e){for(var t=1,i=arguments.length;t<i;t++){var r=arguments[t]||{};for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];void 0!==o&&(e[n]=o)}}return e}},319:function(e,t,i){"use strict";function r(e,t,i){this.$children.forEach(function(n){n.$options.componentName===e?n.$emit.apply(n,[t].concat(i)):r.apply(n,[e,t].concat([i]))})}t.a={methods:{dispatch:function(e,t,i){for(var r=this.$parent||this.$root,n=r.$options.componentName;r&&(!n||n!==e);)(r=r.$parent)&&(n=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(i))},broadcast:function(e,t,i){r.call(this,e,t,i)}}}},351:function(e,t,i){"use strict";function r(){}function n(e,t,i){var r=e;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split("."),o=0,a=n.length;o<a-1&&(r||i);++o){var s=n[o];if(!(s in r)){if(i)throw new Error("please transfer a valid prop path to form item!");break}r=r[s]}return{o:r,k:n[o],v:r?r[n[o]]:null}}t.b=r,t.a=n;Object.prototype.hasOwnProperty},353:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(92),n=i(319),o=i(296),a=i(351);t.default={name:"ElFormItem",componentName:"ElFormItem",mixins:[n.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var i=this.labelWidth||this.form.labelWidth;return i&&(e.marginLeft=i),e},form:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"ElFormItem"===t&&(this.isNested=!0),e=e.$parent,t=e.$options.componentName;return e},fieldValue:{cache:!1,get:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),i.i(a.a)(e,t,!0).v}}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every(function(e){return!e.required||(t=!0,!1)}),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1}},methods:{validate:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.b;this.validateDisabled=!1;var n=this.getFilteredRule(e);if((!n||0===n.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var o={};n&&n.length>0&&n.forEach(function(e){delete e.trigger}),o[this.prop]=n;var s=new r.default(o),l={};l[this.prop]=this.fieldValue,s.validate(l,{firstFields:!0},function(e,r){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",i(t.validateMessage,r),t.elForm&&t.elForm.$emit("validate",t.prop,!e)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var e=this.form.model,t=this.fieldValue,r=this.prop;-1!==r.indexOf(":")&&(r=r.replace(/:/,"."));var n=i.i(a.a)(e,r,!0);this.validateDisabled=!0,Array.isArray(t)?n.o[n.k]=[].concat(this.initialValue):n.o[n.k]=this.initialValue,this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,r=void 0!==this.required?{required:!!this.required}:[],n=i.i(a.a)(e,this.prop||"");return e=e?n.o[this.prop||""]||n.v:[],[].concat(t||e||[]).concat(r)},getFilteredRule:function(e){return this.getRules().filter(function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)}).map(function(e){return i.i(o.a)({},e)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){if(this.validateDisabled)return void(this.validateDisabled=!1);this.validate("change")}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e});(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}}},434:function(e,t,i){var r=i(88)(i(353),i(438),null,null);e.exports=r.exports},435:function(e,t,i){var r=i(88)(i(485),i(499),null,null);e.exports=r.exports},438:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[e.label||e.$slots.label?i("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e(),e._v(" "),i("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),e._v(" "),i("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?i("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n        "+e._s(e.validateMessage)+"\n      ")]):e._e()])],2)])},staticRenderFns:[]}},476:function(e,t,i){"use strict";var r=i(435),n=i.n(r);n.a.install=function(e){e.component(n.a.name,n.a)},t.a=n.a},477:function(e,t,i){"use strict";function r(e){var t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),n=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:s.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:r,borderSize:n,boxSizing:i}}function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o||(o=document.createElement("textarea"),document.body.appendChild(o));var n=r(e),s=n.paddingSize,l=n.borderSize,u=n.boxSizing,c=n.contextStyle;o.setAttribute("style",c+";"+a),o.value=e.value||e.placeholder||"";var d=o.scrollHeight,p={};"border-box"===u?d+=l:"content-box"===u&&(d-=s),o.value="";var m=o.scrollHeight-s;if(null!==t){var f=m*t;"border-box"===u&&(f=f+s+l),d=Math.max(f,d),p.minHeight=f+"px"}if(null!==i){var h=m*i;"border-box"===u&&(h=h+s+l),d=Math.min(h,d)}return p.height=d+"px",o.parentNode&&o.parentNode.removeChild(o),o=null,p}t.a=n;var o=void 0,a="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",s=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"]},478:function(e,t,i){"use strict";var r=i(481);t.a={bind:function(e,t,n){var o=null,a=void 0,s=function(){return n.context[t.expression].apply()},l=function(){new Date-a<100&&s(),clearInterval(o),o=null};i.i(r.a)(e,"mousedown",function(e){0===e.button&&(a=new Date,i.i(r.b)(document,"mouseup",l),clearInterval(o),o=setInterval(s,100))})}}},479:function(e,t,i){"use strict";t.a=function(e){return{methods:{focus:function(){this.$refs[e].focus()}}}}},480:function(e,t,i){"use strict";t.a={mounted:function(){return},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},481:function(e,t,i){"use strict";i.d(t,"a",function(){return a}),i.d(t,"b",function(){return l});var r=i(18),n=(i.n(r),i(1)),o=n.default.prototype.$isServer,a=(o||Number(document.documentMode),function(){return!o&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)}}()),s=function(){return!o&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)}}(),l=function(e,t,i){a(e,t,function r(){i&&i.apply(this,arguments),s(e,t,r)})}},482:function(e,t,i){"use strict";function r(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}t.a=r},484:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(476),n=i(479),o=i(478);t.default={name:"ElInputNumber",mixins:[i.i(n.a)("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:o.a},components:{ElInput:r.a},props:{step:{type:Number,default:1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,precision:{type:Number,validator:function(e){return e>=0&&e===parseInt(e,10)}}},data:function(){return{currentValue:0}},watch:{value:{immediate:!0,handler:function(e){var t=void 0===e?e:Number(e);if(void 0!==t){if(isNaN(t))return;void 0!==this.precision&&(t=this.toPrecision(t,this.precision))}t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t,this.$emit("input",t)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var e=this.value,t=this.step,i=this.getPrecision,r=this.precision,n=i(t);return void 0!==r?(n>r&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),r):Math.max(i(e),n)},controlsAtRight:function(){return"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||(this.elForm||{}).disabled},currentInputValue:function(){var e=this.currentValue;return"number"==typeof e&&void 0!==this.precision?e.toFixed(this.precision):e}},methods:{toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(parseFloat(Number(e).toFixed(t)))},getPrecision:function(e){if(void 0===e)return 0;var t=e.toString(),i=t.indexOf("."),r=0;return-1!==i&&(r=t.length-i-1),r},_increase:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e+i*t)/i)},_decrease:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e-i*t)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var e=this.value||0,t=this._increase(e,this.step);this.setCurrentValue(t)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var e=this.value||0,t=this._decrease(e,this.step);this.setCurrentValue(t)}},handleBlur:function(e){this.$emit("blur",e),this.$refs.input.setCurrentValue(this.currentInputValue)},handleFocus:function(e){this.$emit("focus",e)},setCurrentValue:function(e){var t=this.currentValue;if("number"==typeof e&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),t===e)return void this.$refs.input.setCurrentValue(this.currentInputValue);this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e},handleInputChange:function(e){var t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t)}},mounted:function(){var e=this.$refs.input.$refs.input;e.setAttribute("role","spinbutton"),e.setAttribute("aria-valuemax",this.max),e.setAttribute("aria-valuemin",this.min),e.setAttribute("aria-valuenow",this.currentValue),e.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){if(this.$refs&&this.$refs.input){this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}}}},485:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(319),n=i(480),o=i(477),a=i(296),s=i(482);t.default={name:"ElInput",componentName:"ElInput",mixins:[r.a,n.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{currentValue:void 0===this.value||null===this.value?"":this.value,textareaCalcStyle:{},hovering:!1,focused:!1,isOnComposition:!1,valueBeforeComposition:null}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autoComplete:{type:String,default:"off"},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return i.i(a.a)({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},showClear:function(){return this.clearable&&!this.disabled&&!this.readonly&&""!==this.currentValue&&(this.focused||this.hovering)}},watch:{value:function(e,t){this.setCurrentValue(e)}},methods:{focus:function(){(this.$refs.input||this.$refs.textarea).focus()},blur:function(){(this.$refs.input||this.$refs.textarea).blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.currentValue])},select:function(){(this.$refs.input||this.$refs.textarea).select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize;if("textarea"===this.type){if(!e)return void(this.textareaCalcStyle={minHeight:i.i(o.a)(this.$refs.textarea).minHeight});var t=e.minRows,r=e.maxRows;this.textareaCalcStyle=i.i(o.a)(this.$refs.textarea,t,r)}}},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleComposition:function(e){if("compositionend"===e.type)this.isOnComposition=!1,this.currentValue=this.valueBeforeComposition,this.valueBeforeComposition=null,this.handleInput(e);else{var t=e.target.value,r=t[t.length-1]||"";this.isOnComposition=!i.i(s.a)(r),this.isOnComposition&&"compositionstart"===e.type&&(this.valueBeforeComposition=t)}},handleInput:function(e){var t=e.target.value;this.setCurrentValue(t),this.isOnComposition||this.$emit("input",t)},handleChange:function(e){this.$emit("change",e.target.value)},setCurrentValue:function(e){var t=this;this.isOnComposition&&e===this.valueBeforeComposition||(this.currentValue=e,this.isOnComposition||(this.$nextTick(function(e){t.resizeTextarea()}),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])))},calcIconOffset:function(e){var t=this.$el.querySelector(".el-input__"+e);if(t&&t.parentNode===this.$el){var i={suffix:"append",prefix:"prepend"},r=i[e];this.$slots[r]?t.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+r).offsetWidth+"px)":t.removeAttribute("style")}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear"),this.setCurrentValue(""),this.focus()}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}}},497:function(e,t,i){var r=i(88)(i(484),i(501),null,null);e.exports=r.exports},499:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),e._v(" "),"textarea"!==e.type?i("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete,"aria-label":e.label},domProps:{value:e.currentValue},on:{compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e._v(" "),e.$slots.prefix||e.prefixIcon?i("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e._v(" "),e.prefixIcon?i("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e._v(" "),e.$slots.suffix||e.suffixIcon||e.showClear||e.validateState&&e.needStatusIcon?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[e.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{click:e.clear}}):[e._t("suffix"),e._v(" "),e.suffixIcon?i("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()]],2),e._v(" "),e.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e._v(" "),e.$slots.append?i("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:i("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,"aria-label":e.label},domProps:{value:e.currentValue},on:{compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1))],2)},staticRenderFns:[]}},501:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}],on:{dragstart:function(e){e.preventDefault()}}},[e.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":e.minDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.decrease(t):null}}},[i("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-down":"minus")})]):e._e(),e._v(" "),e.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":e.maxDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.increase(t):null}}},[i("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-up":"plus")})]):e._e(),e._v(" "),i("el-input",{ref:"input",attrs:{value:e.currentInputValue,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label},on:{blur:e.handleBlur,focus:e.handleFocus,change:e.handleInputChange},nativeOn:{keydown:[function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?(t.preventDefault(),e.increase(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?(t.preventDefault(),e.decrease(t)):null}]}})],1)},staticRenderFns:[]}},548:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(91),n=i.n(r),o=i(54),a=i.n(o),s=i(52),l=i.n(s),u=i(51),c=i.n(u),d=i(239),p=i.n(d),m=i(53),f=i(89),h=i(435),g=i.n(h),v=i(434),b=i.n(v),x=i(497),_=i.n(x);t.default={data:function(){return{baseUrl:m.a,baseImgPath:m.b,collageId:null,canSave:!0,dialogVisible:!1,loading:!1,form:{date:null,collageHour:12,collagePeople:2,collageLimit:1},formRule:{collageHour:[{required:!0,message:"请输入有效时间",trigger:"blur"}],collagePeople:[{required:!0,message:"请输入成团人数",trigger:"blur"}],collageLimit:[{required:!0,message:"请输入每人限购",trigger:"blur"}],date:[{required:!0,message:"请选择活动时间",trigger:"blur"}]},productForm:{id:null,productId:null,productName:null,skuId:null,skuName:null,collagePrice:null,collageNum:1,originPrice:null,price:null},productFormRules:{productId:[{required:!0,message:"请选择商品",trigger:"blur"}],skuId:[{required:!0,message:"请选择库存",trigger:"blur"}],collagePrice:[{required:!0,message:"请输入拼团价格"}],collageNum:[{required:!0,message:"请输入拼团数量"}]},product:[],productIds:[],skuNames:[]}},computed:{time:function(){return this.message.split("").reverse().join("")}},components:{ElInputNumber:_.a,ElFormItem:b.a,ElInput:g.a,headTop:p.a},watch:{form:{handler:function(e,t){console.log("数据改变了"),this.canSave=!0},deep:!0},$route:"fetchDate"},created:function(){this.collageId=this.$route.query.collageId,this.initData()},methods:{fetchDate:function(){console.log("路由变化了"),this.$route.query.collageId&&this.collageId!=this.$route.query.collageId&&(this.collageId=this.$route.query.collageId,this.initData())},initData:function(){var e=this;return c()(l.a.mark(function t(){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.collageId){t.next=20;break}return t.prev=1,t.next=4,i.i(f.l)({collageId:e.collageId});case 4:if(r=t.sent,1!=r.status){t.next=14;break}e.form.date=[r.collage.startTime,r.collage.endTime],e.form.collageHour=r.collage.effectiveTime,e.form.collagePeople=r.collage.collagePeople,e.form.collageLimit=r.collage.collageLimit,e.product=[],r.collage.product.forEach(function(t){e.product.push({productName:t.product__productName,skuName:t.sku__skuName,skuNames:[],productIds:[],marketPrice:t.sku__originPrice,price:t.sku__sellPrice,collagePrice:t.collagePrice,collageNum:t.collageNum,skuId:t.sku_id,productId:t.product_id,collageSkuId:t.id})}),t.next=15;break;case 14:throw new Error("获取数据失败");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(1),console.log("获取数据失败",t.t0);case 20:case"end":return t.stop()}},t,e,[[1,17]])}))()},tableRowClassName:function(e,t){return 1===t?"info-row":3===t?"positive-row":""},handleSave:function(e){},addProduct:function(){var e=this;return c()(l.a.mark(function t(){var r,o;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.collageId){t.next=3;break}return e.$message({type:"error",message:"未保存活动"}),t.abrupt("return");case 3:return r=a()({collageId:e.collageId},e.productForm),t.next=6,i.i(f.H)(JSON.parse(n()(r)));case 6:o=t.sent,1==o.status&&(e.$message({type:"success",message:"添加成功"}),e.dialogVisible=!1,e.productForm.id?e.product.forEach(function(t){t.collageSkuId==e.productForm.id&&(t.productName=e.productForm.productName,t.skuName=e.productForm.skuName,t.skuNames=e.skuNames,t.productIds=e.productIds,t.marketPrice=e.productForm.originPrice,t.price=e.productForm.price,t.collagePrice=e.productForm.collagePrice,t.collageNum=e.productForm.collageNum,t.skuId=e.productForm.skuId,t.productId=e.productForm.productId,t.collageSkuId=o.collageSkuId)}):e.product.push({productName:e.productForm.productName,skuName:e.productForm.skuName,skuNames:e.skuNames,productIds:e.productIds,marketPrice:e.productForm.originPrice,price:e.productForm.price,collagePrice:e.productForm.collagePrice,collageNum:e.productForm.collageNum,skuId:e.productForm.skuId,productId:e.productForm.productId,collageSkuId:o.collageSkuId}),e.productForm={id:null,productId:null,productName:null,skuId:null,skuName:null,collagePrice:null,price:null,originPrice:null,collageNum:1},e.productIds=[],e.skuNames=[]);case 8:case"end":return t.stop()}},t,e)}))()},saveCollage:function(e){var t=this;this.$refs[e].validate(function(){var e=c()(l.a.mark(function e(r){var o,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return o={collageId:t.collageId||0,date:t.form.date,collageHour:t.form.collageHour,collagePeople:t.form.collagePeople,collageLimit:t.form.collageLimit},e.next=4,i.i(f.I)(JSON.parse(n()(o)));case 4:a=e.sent,1==a.status?(t.canSave=!1,t.collageId=a.collageId,t.$message({type:"success",message:"保存成功"})):t.$message({type:"error",message:"保存失败"});case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},remoteSearch:function(e){var t=this;return c()(l.a.mark(function r(){var n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,r.next=3,i.i(f.J)({searchKey:e});case 3:n=r.sent,1==n.status?(t.loading=!1,t.productIds=n.productIds):t.loading=!1;case 5:case"end":return r.stop()}},r,t)}))()},selectProduct:function(e){var t=this;return c()(l.a.mark(function r(){var n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),r.next=3,i.i(f.K)({select:e});case 3:n=r.sent,1==n.status&&(t.skuNames=n.skus,t.productIds.forEach(function(i){i.value==e&&(t.productForm.productName=i.label)}));case 5:case"end":return r.stop()}},r,t)}))()},selectSku:function(e){var t=this;console.log(e),this.skuNames.forEach(function(i){i.value==e&&(t.productForm.originPrice=i.originPrice,t.productForm.price=i.sellPrice,t.productForm.skuName=i.label)})},handleEdit:function(e,t){this.dialogVisible=!0,this.productForm.id=t.collageSkuId,this.productForm.productId=t.productId,this.productForm.productName=t.productName,this.productForm.skuId=t.skuId,this.productForm.skuName=t.skuName,this.productForm.collagePrice=t.collagePrice,this.productForm.originPrice=t.marketPrice,this.productForm.price=t.price,this.productForm.collageNum=t.collageNum,this.skuNames=t.skuNames,this.productIds=t.productIds}}}},562:function(e,t,i){t=e.exports=i(197)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.el-footer,.el-header{background-color:#b3c0d1;color:#333;text-align:center;line-height:60px}.el-main{background-color:#e9eef3;color:#333}body>.el-container{margin-bottom:40px}.el-container:nth-child(5) .el-aside,.el-container:nth-child(6) .el-aside{line-height:260px}.el-container:nth-child(7) .el-aside{line-height:320px}.line{text-align:center}",""])},781:function(e,t,i){var r=i(562);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i(198)("3601a7dc",r,!0)},807:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("head-top"),e._v(" "),i("el-row",{staticStyle:{"margin-top":"20px"}},[i("el-col",{attrs:{span:20,offset:2}},[i("el-container",[i("el-header",[i("el-col",{attrs:{span:14}},[e._v("拼团活动基本信息")]),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-button",{attrs:{disabled:!e.canSave,type:"primary"},on:{click:function(t){e.saveCollage("form")}}},[e._v("保存\n                        ")])],1)],1),e._v(" "),i("el-main",[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.formRule,"label-width":"110px"}},[i("el-form-item",{attrs:{label:"活动时间",prop:"date"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","00:00:00"]},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"有效时间",prop:"collageHour"}},[i("el-input-number",{attrs:{min:12,max:72,step:1},model:{value:e.form.collageHour,callback:function(t){e.$set(e.form,"collageHour",t)},expression:"form.collageHour"}}),e._v("\n                            小时\n                        ")],1),e._v(" "),i("el-form-item",{attrs:{label:"成团人数",prop:"collagePeople"}},[i("el-input-number",{attrs:{min:2,max:12,step:1},model:{value:e.form.collagePeople,callback:function(t){e.$set(e.form,"collagePeople",t)},expression:"form.collagePeople"}}),e._v("\n                            人\n                        ")],1),e._v(" "),i("el-form-item",{attrs:{label:"每人限购",prop:"collageLimit"}},[i("el-input-number",{attrs:{min:1,step:1},model:{value:e.form.collageLimit,callback:function(t){e.$set(e.form,"collageLimit",t)},expression:"form.collageLimit"}}),e._v("\n                            件\n                        ")],1)],1)],1)],1),e._v(" "),i("el-container",{staticStyle:{"margin-top":"40px"}},[i("el-header",[i("el-col",{attrs:{span:14}},[e._v("关联商品")]),e._v(" "),i("el-col",{attrs:{span:10}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加")])],1)],1),e._v(" "),i("el-main",[i("el-form",{attrs:{"label-width":"110px"}},[e.product.length>0?i("el-row",{staticStyle:{overflow:"auto","text-align":"center"}},[i("el-table",{staticStyle:{"margin-bottom":"20px"},attrs:{data:e.product,"row-class-name":e.tableRowClassName}},[i("el-table-column",{attrs:{prop:"productName",label:"商品"}}),e._v(" "),i("el-table-column",{attrs:{prop:"skuName",label:"商品库存"}}),e._v(" "),i("el-table-column",{attrs:{prop:"marketPrice",label:"商品原价"}}),e._v(" "),i("el-table-column",{attrs:{prop:"price",label:"商品现价"}}),e._v(" "),i("el-table-column",{attrs:{prop:"collagePrice",label:"团购价"}}),e._v(" "),i("el-table-column",{attrs:{prop:"collageNum",label:"拼团数量"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                                        ")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){e.handleDelete(t.$index)}}},[e._v("删除\n                                        ")])]}}])})],1)],1):e._e()],1)],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"添加商品",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"productForm",attrs:{model:e.productForm,rules:e.productFormRules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"选择商品",prop:"productId"}},[i("el-select",{attrs:{filterable:"",remote:"","remote-method":e.remoteSearch,loading:e.loading,placeholder:"请选择"},on:{change:e.selectProduct},model:{value:e.productForm.productId,callback:function(t){e.$set(e.productForm,"productId",t)},expression:"productForm.productId"}},e._l(e.productIds,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[i("span",{staticStyle:{float:"right"}},[e._v(e._s(t.label))]),e._v(" "),i("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])}))],1),e._v(" "),i("el-form-item",{attrs:{label:"选择商品库存",prop:"skuId"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectSku},model:{value:e.productForm.skuId,callback:function(t){e.$set(e.productForm,"skuId",t)},expression:"productForm.skuId"}},e._l(e.skuNames,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"输入团购价",prop:"collagePrice"}},[i("el-input",{model:{value:e.productForm.collagePrice,callback:function(t){e.$set(e.productForm,"collagePrice",t)},expression:"productForm.collagePrice"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"输入拼团数量",prop:"collageNum"}},[i("el-input",{attrs:{type:"number",min:1},model:{value:e.productForm.collageNum,callback:function(t){e.$set(e.productForm,"collageNum",t)},expression:"productForm.collageNum"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addProduct("productForm")}}},[e._v("提交\n                    ")])],1)],1)],1)],1)],1)},staticRenderFns:[]}}});